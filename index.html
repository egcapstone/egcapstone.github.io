<!DOCTYPE html>
<html lang="en">
<head>

</head>
<body>
<p>Head Count: <strong id="headCount">0</strong> / 30</p>
<p><strong id="exceed"></strong></p> 
<button onclick="startLiveUpdate()">Start</button>


<script type="text/javascript">
	function startLiveUpdate(){
		const textHeadCount = document.getElementById('headCount');
		const textExceed = document.getElementById('exceed');
		
		setInterval(function(){
			fetch('https://thingproxy.freeboard.io/fetch/http://188.166.206.43:8080/YeaI5w0Tqlrr4wfL3YdAZ_GcUqCYs9le/get/V0').then(function(response){
				return response.json();
				}).then(function(data){
					textHeadCount.textContent = data;
					if (data > 30){
						textExceed.textContent = "The number of people have exceeded!";
					}
				}).catch(function(error){
					console.log(error);
				})
			}, 2000);
		}	
</script>
</body>

</html>

